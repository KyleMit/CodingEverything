# JavaScript

## ES6

[lukehoban/**es6features**](https://github.com/lukehoban/es6features) - Overview of ECMAScript 6 features


### Standard Built In Objects

[Standard built-in objects](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects)

* **Value properties**
  * [`Infinity`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity)
  * [`NaN`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN)
  * [`undefined`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined)
  * [`globalThis`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis)


* **Function properties**
  * [`eval()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval)
  * [`isFinite()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isFinite)
  * [`isNaN()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN)
  * [`parseFloat()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseFloat)
  * [`parseInt()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt)
  * [`encodeURI()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI)
  * [`encodeURIComponent()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent)
  * [`decodeURI()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURI)
  * [`decodeURIComponent()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent)

* **Fundamental objects**
  * [`Object`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
  * [`Function`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)
  * [`Boolean`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)
  * [`Symbol`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol)

* **Error objects**
  * [`Error`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
  * [`EvalError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError)
  * [`InternalError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError)
  * [`RangeError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError)
  * [`ReferenceError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError)
  * [`SyntaxError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError)
  * [`TypeError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError)
  * [`URIError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError)


* **Numbers and dates**
  * [`Number`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)
  * [`BigInt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt)
  * [`Math`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math)
  * [`Date`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)

* **Text processing**
  * [`String`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)
  * [`RegExp`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp)


* **Indexed collections**
  * [`Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)
  * [`Int8Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array)
  * [`Uint8Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)
  * [`Uint8ClampedArray`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray)
  * [`Int16Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array)
  * [`Uint16Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array)
  * [`Int32Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array)
  * [`Uint32Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array)
  * [`Float32Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array)
  * [`Float64Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array)
  * [`BigInt64Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array)
  * [`BigUint64Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigUint64Array)

* **Keyed collections**
  * [`Map`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map)
  * [`Set`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set)
  * [`WeakMap`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap)
  * [`WeakSet`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet)


* **Structured data**
  * [`ArrayBuffer`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer)
  * [`SharedArrayBuffer`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer)
  * [`Atomics`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics)
  * [`DataView`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView)
  * [`JSON`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON)

* **Control abstraction objects**
  * [`Promise`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)
  * [`Generator`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator)
  * [`GeneratorFunction`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction)
  * [`AsyncFunction`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AsyncFunction)


* **Reflection**
  * [`Reflect`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect)
  * [`Proxy`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy)


* **Internationalization**
  * [`Intl`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl)
  * [`Intl.Collator`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Collator)
  * [`Intl.DateTimeFormat`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat)
  * [`Intl.ListFormat`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ListFormat)
  * [`Intl.NumberFormat`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat)
  * [`Intl.PluralRules`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/PluralRules)
  * [`Intl.RelativeTimeFormat`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RelativeTimeFormat)
  * [`Intl.Locale`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Locale)


* **WebAssembly**
  * [`WebAssembly`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly)
  * [`WebAssembly.Module`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Module)
  * [`WebAssembly.Instance`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Instance)
  * [`WebAssembly.Memory`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Memory)
  * [`WebAssembly.Table`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Table)
  * [`WebAssembly.CompileError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/CompileError)
  * [`WebAssembly.LinkError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/LinkError)
  * [`WebAssembly.RuntimeError`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/RuntimeError)

* Other
  * [`arguments`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments)

## Debounce

[Javascript debounce function](https://stackoverflow.com/a/61241621/1366033)

```js
function debounceLate(func, wait) {
  var timeoutId;

  return function() {
      var context = this,
          args = arguments;

      clearTimeout(timeoutId);

      timeoutId = setTimeout(function() {
        func.apply(context, args);
      }, wait);
  };
};

function debounceEarly(func, wait) {
    var timeoutId;

    return function() {
        var context = this,
            args = arguments;

        var defer = function() {timeoutId = null;};
        var callNow = !timeoutId;

        clearTimeout(timeoutId);
        timeoutId = setTimeout(defer, wait);

        if (callNow) func.apply(context, args);
    };
};
```

```js
// example function
let sayHello = (name) => console.log(`Hi ${name}`)

// generate a debounced version with a min time between calls of 2 seconds
let sayHelloDebounced = debounce(sayHello, 2000)

// call however you want
sayHelloDebounced('David')
```

[Using async/await with a forEach loop](https://stackoverflow.com/q/37576685/1366033)

```js
async function printFiles () {
  const files = await getFilePaths();

  await Promise.all(files.map(async (file) => {
    const contents = await fs.readFile(file, 'utf8')
    console.log(contents)
  }));
}
```

[What does a tilde do when it precedes an expression?](https://stackoverflow.com/q/12299665/1366033)

```js
console.log(~"apple".indexOf("a"))     // true
console.log("apple".indexOf("a") >= 0) // true
console.log("apple".includes("a"))     // true
```

## `Object.defineProperty()`

Use Cases:

* Customization default property modifiers/access
  * Read only props
  * Write only props
  * Composite props
* Implement custom logic during get/set (logging, observability)
* Enumerability

[when do you use Object.defineProperty](https://stackoverflow.com/q/10105824/1366033)
[how to use javascript Object.defineProperty](https://stackoverflow.com/q/18524652/1366033)

[MDN Docs - `Object.defineProperty()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)
[Example in StartsWith Polyfill](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith#Polyfill)

Let's look at a couple ways to describe properties in c#

```cs
// separate functions for accessor and mutator
string _name;
public string getString() {
    return _name;
}
public void setString(value) {
    _name = value;
}

// properties with backing fields
string _name;
public string Name
{
    get {
        return _name;
    }
    set {
        _name = value;
    }
}

// expression body members
string _name;
public string Name
{
    get => _name;
    set => _name = value;
}

// auto implemented property
public string Name { get; set; }
```

Read Only Properties

```cs
// properties with backing fields
string _name;
public string Name
{
    get {
        return _name;
    }
}

// expression body member
string _firstName;
string _lastName;
public string FullName => $"{_firstName} {_lastName}"
```

[Auto-Implemented Properties in C#](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/auto-implemented-properties)



```js
String.prototype.startsWithAny = function(searchStrings) {
    return searchStrings.some(search => this.startsWith(search))
};
Object.defineProperty(String.prototype, 'startsWithAny', {
    value: function(searchStrings) {
        return searchStrings.some(search => this.startsWith(search))
    }
});
```

## JavaScript Format Date

| Property     | Values  | Example     |
|--------------|---------|-------------|
| weekday      | narrow  | M           |
|              | short   | Mon         |
|              | long    | Monday      |
|              |         |             |
| year         | 2-digit | 19          |
|              | numeric | 2019        |
|              |         |             |
| month        | numeric |             |
|              | 2-digit |             |
|              | narrow  |             |
|              | short   |             |
|              | long    |             |
|              |         |             |
| day          | 2-digit |             |
|              | numeric |             |
|              |         |             |
| hour         | 2-digit |             |
|              | numeric |             |
|              |         |             |
| minute       | 2-digit |             |
|              | numeric |             |
|              |         |             |
| second       | 2-digit |             |
|              | numeric |             |
|              |         |             |
| timeZoneName | short   |             |
|              | long    |             |
|              |         |             |
| era          | narrow  | A           |
|              | short   | AD          |
|              | long    | Anno Domini |

```js
(new Date()).toLocaleDateString("en-US", {
    era: "narrow"
})
```

### Format Date - Further Reading

* [Get Locale Short Date Format using javascript](https://stackoverflow.com/q/2388115/1366033)
* [Get String in YYYYMMDD format from JS date object?](https://stackoverflow.com/q/3066586/1366033)
* [Where can I find documentation on formatting a date in JavaScript?](https://stackoverflow.com/q/1056728/1366033)
* [Converting a string to a date in JavaScript](https://stackoverflow.com/q/5619202/1366033)
* [Format JavaScript date as yyyy-mm-dd](https://stackoverflow.com/q/23593052/1366033)
* [How to format a JavaScript date](https://stackoverflow.com/q/3552461/1366033)
* [Display date/time in user's locale format and time offset](https://stackoverflow.com/q/85116/1366033)

### Specification

#### MDN

[`Date.prototype.toLocaleString()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString)
[`Intl.DateTimeFormat.prototype.format()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/format)

#### Github

* [tc39/ecma262](https://github.com/tc39/ecma262)
* [tc39/ecma402](https://github.com/tc39/ecma402)

#### Docs

[ECMAScript® 2021 Language Specification > tolocalestring](https://tc39.es/ecma262/#sec-date.prototype.tolocalestring)
[ECMAScript® 2021 Internationalization API Specification > DateTimeFormat Objects](https://tc39.es/ecma402/#datetimeformat-objects)


## JS Doc Comments

Emmet autocomplete `/**`

[JS Doc](https://jsdoc.app/)


## Questions

* [Getting Text From Fetch Response Object](https://stackoverflow.com/a/41946517/1366033)


    ```js
    var response = await fetch(`/api/search?q=val`);
    var results = await response.text();
    ```

* [Polling until getting specific result?](https://stackoverflow.com/a/64654157/1366033)
